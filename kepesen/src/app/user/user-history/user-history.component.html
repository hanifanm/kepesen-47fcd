<div class="card-box" *ngFor="let order of orderService.collections">
  <div class="dropdown">
    <span class="glyphicon glyphicon-option-horizontal close" data-toggle="dropdown"></span>
    <ul class="dropdown-menu dropdown-menu-right">
      <li (click)="onViewOrder(order)"><a>View Detail</a></li>
      <li (click)="onCancelOrderStart(order)"><a>Cancel Order</a></li>
    </ul>
  </div>
  <table>
    <tr>
      <td class="order-label"><strong>ID</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.id}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Nama Penerima</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.recName}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Alamat Pengiriman</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.recAddress}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Nomor Telepon</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.recPhone}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Banyaknya Item</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.list.length}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Harga</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{order.price}}</td>
    </tr>
    <tr>
      <td class="order-label"><strong>Status</strong></td>
      <td><strong>:</strong></td>
      <td class="order-value">{{getStatus(order.status, order.createdAt)}}</td>
    </tr>
  </table>
</div>

<app-loading *ngIf="orderService.isLoading"></app-loading>

<div class="card-box" *ngIf="isHistoryEmpty()">
  <i>Anda tidak memiliki histori pesanan. Silakan melakukan pesanan</i>
</div>

<app-dialog *ngIf="isViewDialogShow" [(onCancel)]="onCloseDialog" title="Detail Pesanan">
  <pre>{{JSON.stringify(orderService.current, null, 3)}}</pre>
</app-dialog>

<app-dialog *ngIf="isCancelDialogShow" [(onCancel)]="onCloseDialog" title="Batalkan Pesanan">
  <h5>Apakah anda yakin?</h5>
  <button type="button" class="btn btn-danger pull-right" (click)="onCancelOrder()">Batalkan</button>
  <button type="button" class="btn btn-default pull-right" (click)="onCloseDialog()">Kembali</button>
</app-dialog>